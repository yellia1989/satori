---
# Output debug log, useful for debugging
debug: false
# Set hostname. satori-agent will use machine hostname
# if this is empty or omitted. Defaults to empty.
hostname: ''
# Use FQDN(Fully Qualified Domain Name) instead of short hostname,
# Has no effect if hostname is manually set.
fqdn: false
# Do not report builtin metrics provided by satori-agent binary.
# Useful in container environment.
# Defaults to false
noBuiltin: false
# Set ip address. satori-agent will use machine ip address
# if this is empty or omitted. Defaults to empty.
ip: ''

# Constraint resource usage of satori-agent and its plugins
# Omit this to disable.
cgroups:
  # CPU usage in percentage
  cpu: 50.0
  # Memory usage in MiB
  mem: 256
  # Panic if failed to setup cgroups
  # Defaults to false
  enforce: false

plugin:
  # Enable plugin.
  # Plugins are simple scripts invoked by satori-agent to
  # retrieve metrics, please read documents for full explaination.
  enabled: true

  # Trusted *PUBLIC KEYS* for signing rules repository.
  # satori-agent will not checkout commits without signature
  # generated by `sign` tool with trusted key listed here.
  # Omitting or setting it to empty list disables signature verification.
  # Please read documents for full explaination.
  #
  # Format(in yaml):
  # - key: <public key1>
  # - key: <public key2>
  # Metadata can be added arbitrarily
  #
  # Defaults to [] (disabled)
  signingKeys: []
  # signingKeys:
    # - owner: You
    #   key: NotAVaildKeyGetOneKeyBySignToolInRulesRepo==
    # - owner: youmu
    #   key: RYzIU5vEK3e4asrN0KrPpNdvjBRQq+3Mva5z27ba9sw=
    # - owner: yuyuko
    #   key: 6h0llzeOAcOsn4A5vGzEkp/icjQhGddYzRzbOUh1PL0=
    # - owner: satori
    #   key: f1mKpSYpnpKDqZbci0/TFWTfND1NZ5QSyXpPEa1h7XY=
    # - owner: koishi
    #   key: Vpk9Ev2li0d2jRUCPwbG4PfylqmspYFPaFS21Zhrs/g=
    # - owner: reimu
    #   key: m0HT43K6xOxm11Ybjz0BrdfbQYt7WHesqpZ/VcaTwTA=

  # Alternative signing keys file path (in rules repository).
  # Keys specified in this file are also honored as vaild signing keys.
  # This is just a convenient mechanism for managing signing keys.
  # Commits with this file modified MUST be signed with keys specified by `signingKeys`,
  # or keys in this file will not be honored.
  # Omitting or setting this to empty disables this feature.
  # Defaults to 'authorized_keys.yaml'
  authorizedKeys: authorized_keys.yaml
  # Config file path (in rules repository) for self update
  # Omitting or setting it to empty string disables self update.
  # Defaults to 'agent-update.yaml'
  update: agent-update.yaml
  # Git remote path for rules repository
  git: "http://satori:PASSWD@DOMAIN/plugin"
  # Local path for checked-out rules repository
  checkoutPath: "/data/satori/plugin"
  # Plugin directory in rules repository
  subDir: plugin
  # Where to put plugin logs
  logs: "/data/satori/log"

# Master address
master: "master://INTERNAL_DOMAIN:6040/?interval=60&timeout=5000"

# Transfer address, will do fail over if multiple
# addresses specified.
transfer:
  - "transfer://INTERNAL_DOMAIN:8433/?timeout=5000"

# HTTP listen port
# Omitting or setting to empty disables HTTP interface
# Defaults to ":1988"
http: ":1988"

collector:
  ifacePrefix:
    - enp
    - eth
    - em

# Add custom tags to all metrics collected
# e.g.: You can attach datacenter/region/rack info here.
addTags:
  # datacenter: cn01
  # rack: 12345
  region: default

# Ignoring (exclude) metrics by metric name/tag/tagvalue
# Supports regular expression.
ignore:
  - metric: "^df\\."
    tag: "mount"
    tagValue: ".*/(docker|ureadahead|netns|kubelet)/.*$"
  - metric: "^df\\."
    tag: "fstype"
    tagValue: "^squashfs$"
